<div class="container p-1">
  <div class=" p-2 d-flex justify-content-between align-items-center  ">
    <button class="btn btn-outline-dark" (click)="crearOrganizacion()">Nuevo</button>

    <!-- <div class="p-0 row">
      <input [(ngModel)]="busqueda" class="form-group col-10" type="text" (keyup)="listar()">
      <button class="btn btn-outline-secondary col-2" (click)="listar()"><i class="fa fa-search" aria-hidden="false"> </i></button>
    </div> -->
  </div>

  <table class=" table table-bordered">
    <thead>
      <tr>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="ID" [(ngModel)]="id" (keyup)="listar()"></th>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="NOMBRE" [(ngModel)]="nombre" (keyup)="listar()"></th>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="CORREO" [(ngModel)]="correo" (keyup)="listar()"></th>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="TELEFONO" readonly></th>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="DIRECCIÃ“N" readonly></th>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="CONTACTO" [(ngModel)]="nombre_contacto" (keyup)="listar()"></th>
        <th scope="col"><input type="text" class="form-control form-control-sm" placeholder="EDITAR" readonly> </th>
      </tr>
    </thead>
    <tbody *ngFor="let item of organizacion.organizacion">
      <tr>
        <th scope="row">{{item.id}}</th>
        <td>{{item.nombre}}</td>
        <td>{{item.correo}}</td>
        <td>{{item.telefono}}</td>
        <td>{{item.direccion}}</td>
        <td>{{item.nombre_contacto}}</td>
        <td><button class="btn btn-sm btn-outline-primary mr-2" (click)="editarOrganizacion(item)">Editar
            Organizacion</button></td>
      </tr>
    </tbody>
  </table>


  <ngb-pagination [(page)]="sos.pagina" [pageSize]="sos.numfilas" [collectionSize]="organizacion.total_registros"
    (pageChange)="listar()">
    <ng-template ngbPaginationFirst><i class="fa fa-arrow-left " aria-hidden="true "></i></ng-template>
    <ng-template ngbPaginationLast><i class="fa fa-step-forward " aria-hidden="true "></i></ng-template>
    <ng-template ngbPaginationPrevious><i class="fa fa-arrow-left " aria-hidden="true "></i></ng-template>
    <ng-template ngbPaginationNext><i class="fa fa-arrow-right " aria-hidden="true "></i></ng-template>
  </ngb-pagination>

</div>


<div>

  <ng-template #modalCrear let-modal>

    <div class="modal-header">
      <div class="col-9">
        <h2> <i class="fa fa-file" aria-hidden="true"> </i> Crear Organizacion </h2>
      </div>
      <div class="text-left mr-2 mt-1 ">
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click') "><span
            aria-hidden="true">&times;</span></button>
      </div>
    </div>

    <div class="modal-body text-center ">
      <div class="row">
        <div class="col-md-6">
          <label for="exampleFormControlInput1" class="form-label">Nombre</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.nombre">
        </div>
        <div class="col-md-6">
          <label for="exampleFormControlInput1" class="form-label">Correo</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.correo">
        </div>
        <div class="col-md-4">
          <label for="exampleFormControlInput1" class="form-label">Telefono</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.telefono">
        </div>
        <div class="col-md-4">
          <label for="exampleFormControlInput1" class="form-label">Direccion</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.direccion">
        </div>
        <div class="col-md-4">
          <label for="exampleFormControlInput1" class="form-label">Nombre Contacto</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.nombre_contacto">
        </div>
      </div>
    </div>
    <div class="modal-footer ">
      <div class="d-flex flex-row ">
        <button type="button " class="btn btn-secondary" (click)="modal.dismiss('Cross click') ">
          Cancelar </button>
        <button type="button " class="btn btn-success ml-2" (click)="modal.dismiss('Cross click'); crear() ">
          Crear </button>
      </div>
    </div>

  </ng-template>

  <ng-template #modalEdicion let-modal>

    <div class="modal-header">
      <div class="col-9">
        <h2> <i class="fa fa-file" aria-hidden="true"> </i> Editar Organizacion </h2>
      </div>
      <div class="text-left mr-2 mt-1 ">
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click') "><span
            aria-hidden="true">&times;</span></button>
      </div>
    </div>

    <div class="modal-body text-center ">
      <div class="row">
        <div class="col-md-6">
          <input type="hidden" [(ngModel)]="organizacion_seleccionada.id">
          <label for="exampleFormControlInput1" class="form-label">Nombre</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.nombre">
        </div>
        <div class="col-md-6">
          <label for="exampleFormControlInput1" class="form-label">Correo</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.correo">
        </div>
        <div class="col-md-4">
          <label for="exampleFormControlInput1" class="form-label">Telefono</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.telefono">
        </div>
        <div class="col-md-4">
          <label for="exampleFormControlInput1" class="form-label">Direccion</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.direccion">
        </div>
        <div class="col-md-4">
          <label for="exampleFormControlInput1" class="form-label">Nombre Contacto</label>
          <input type="email" class="form-control" id="exampleFormControlInput1"
            [(ngModel)]="organizacion_seleccionada.nombre_contacto">
        </div>
      </div>
    </div>
    <div class="modal-footer ">
      <div class="d-flex flex-row ">
        <button type="button " class="btn btn-secondary" (click)="modal.dismiss('Cross click') ">
          Cancelar </button>
        <button type="button " class="btn btn-success ml-2" (click)="modal.dismiss('Cross click'); editar() ">
          editar </button>
      </div>
    </div>
  </ng-template>
</div>
